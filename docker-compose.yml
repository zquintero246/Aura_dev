version: "3.9"

services:
  trainer:
    build: .
    command: bash
    stdin_open: true
    tty: true
    network_mode: "host"  # Requiere Linux o Docker Desktop configurado para exponer la red del host
    volumes:
      - ./:/workspace
    deploy:
      resources:
        reservations:
          devices:
            - capabilities: ["gpu"]  # Requiere NVIDIA Container Toolkit y `--gpus all`
